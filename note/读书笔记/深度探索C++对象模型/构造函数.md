## 构造函数

#### 构造函数两个误解

* 任何class如果没有定义default constructor，就会被合成出一个来
* 编译器合成出来的default constructor会显示设定“class内每一个data member的默认值”。

#### 四种nontrivial default constructor情况，编译器将合成一个default constructor

* 成语对象有默认构造函数，而没有定义任何的构造函数	

  * __C++语言要求以“member objects在class中的声明顺序”来调用各个构造函数__

* 基类有默认构造函数，derived class的默认构造函数将被合成出来，它将调用上一层基类的默认构造函数

* 类含有虚函数

  * 包含两种情况：

  * class声明或继承一个virtual function
  * class派生自一个继承串链，其中有一个或更多的virtual base classes
  * 合成默认构造函数的目的是正确的初始化每一个类对象的vptr

* 带有一个虚基类的类

  * 对于类所定义的每一个构造函数，编译器会安插那些“允许每一个虚基类的执行期存取操作”的代码



> ​	至于没有存在那4种情况而又没有生命任何构造函数的类，我们说它们拥有的是implicit trivial default constructor， 它们实际上并不会被合成出来。
>
> ​	在合成的default construct中，只有base class subobjects和member class objects会被初始化。所有其他的nonstatic data member（如整形、整形指针、整数数组等）都不会被初始化。