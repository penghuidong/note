# 线程终止

### 线程终止方式

* 线程函数`return`
* 线程调用`pthread_exit`
* 调用`pthread_cancel`取消线程
* 其他线程执行了`exit`，主线程在`main`执行了`return`



### 线程栈

* 线程栈从进程的地址空间中map出的一块内存
* 线程栈不能动态增长
* 线程退出后， 线程栈内存依然完整  -》   __Q: 线程栈内存何时回收？__

### 连接已终止的线程

#### 为什么要join

* 线程栈的概念：https://www.cnblogs.com/xzzzh/p/6596982.html
* 若线程未`detached`或`join`， 线程终止时将产生僵尸进程

#### 疑问

* pthread_join第二参数为什么用二级指针，但是将结果保存在指针变量中，使用值传递不好吗？设计问题？