# 内存中的浮点数

#### 1. 浮点数在内存中的存储方式为：符号位、指数、尾数

| 类型   | 符号位      | 指数            | 尾数           |
| ------ | ----------- | --------------- | -------------- |
| float  | 1位(第31位) | 8位(第23-30位)  | 23位(第0-22位) |
| double | 1位(第63位) | 11位(第52-62位) | 52位(第0-51位) |

__float与double类型的数据在计算机内部的表示法是相同的，但由于所占存储空间的不同，其分别能够表示的数值范围和精度不同。__



#### 2. 浮点数的转换

* 将浮点数转换成二进制
* 用科学计数法表示二进制浮点数
* 计算指数偏移后的值

__注意：计算指数时需要加上偏移量，而偏移量的值与类型有关。__

##### 实数8.25在内存中的float表示(图例TODO)

```c
//十进制浮点数的内存表示
#include <stdio.h>
int main()
{
    float f = 8.25;
    unsigned int* p = (unsigned int*)&f;
    printf("0x%08X\n",*p);
    return 0;
}
```

#### 3. 有趣的问题

* int类型的范围:[-$2^ {31}$, $2^{31}-1$
* float类型的范围:[-$3.4*10^{38}$, 3.4*$10^{38}$

##### int和float都占4个字节的内存，为什么float却比int的范围大得多呢？

* float能表示的具体数字的个数与int相同
* float可表示的数字之间不是连续的，存在间隙
* float只是一种近似的表示法，不能作为精确数使用
* 由于内存表示法相对复杂，float的运算速度比int慢得多

```c
//float类型的不精确示例
#include <stdio.h>
int main()
{
    float f = 3.1415f;
    float fl = 123456789;
    
    printf("%0.10f\n", f);
    printf("%0.10f\n", fl);
    
    return 0;
}
```

